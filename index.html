
<!DOCTYPYE html>
<head>
<meta charset="utf-8">
<scale=1.0>
<title>あなたのいいところ診断</title>
    <style>
        body{
            background-color:#04a6eb;
            color: #fdffff;
            width: 500px;
            margin-right: auto;
            margin-left: auto;
        }
        button{
            padding: 5px 20px;
            background-color: #337ab7;
            border-color: #fdffff;
            border-style: dashed groove none dotted;
            height: 40px;
            color: #fdffff;
        }
        input{
            height: 40px;
        }
        </style>
</head>
<body>
    <h1>あなたのいいところは？</h1>
    <p>診断したい名前を入れてください</p>
    <input type="text" id ="user-name" size ="40"maxlength="20">
    <button id="assessment">診断する</button>
    <div id="result-area"></div>
    <div id="tweet-area"></div>
<script>
    const userNameInput =document.getElementById('user-name')
    const assessmentButton = document.getElementById('assessment')
    const resultDivided =document.getElementById('result-area')
    const tweetDivided =document.getElementById('tweet-area')
    
assessmentButton.onclick =() => {
    const userName =userNameInput.value;
    if(userName.length === 0){
        return;
    }
    console.log(userName); 
    
    removeAllChildren(resultDivided);
    const header = document.createElement('h3')
    header.innerText='診断結果';
    resultDivided.appendChild(header)

    const paragraph = document.createElement('p')
    const result = assessment(userName);
    paragraph.innerText = result;
    resultDivided.appendChild(paragraph);
};
    
function removeAllChildren(element){
    while(element.firstChild){
        element.removeChild(element.firstChild);
    }
}
    
function assessment(userName){
let sumOfCharCode =0;
    for(let i=0;i< userName.length;i++){
    sumOfCharCode =sumOfCharCode + userName.charCodeAt(i)
    }
    const index=sumOfCharCode % answers.length;
    let result =answers[index];
    result= result.replace(/\{userName\}/g,userName);
    return result;
}
        const answers = [
    '{userName}のよいところは声です。',
    '{userName}のよいところはまなざしです。',
    '{userName}のよいところは情熱です。',
    '{userName}のよいところは厳しさです。',
    '{userName}のよいところはカッコ良いところです。'
];
</script>
</body>
</html>
